<app-navbar-rutina [gimnasioId]="idGimnasio"></app-navbar-rutina>

<div class="container">
  <ng-container *ngIf="usuarioRegistrado$ | async; else notRegistered">
    <app-calendario></app-calendario>
    <div class="section">
      <h2>Horas Disponibles</h2>
      <div class="horas-disponibles">
        <div *ngFor="let hora of horasDisponibles" class="hora">
          {{ hora.horaInicio }} - {{ hora.horaFinal }}
        </div>
      </div>
    </div>

    <div *ngIf="actividades && actividades.length > 0" class="section">
      <h2>Actividades Programadas</h2>
      <div class="actividades">
        <div *ngFor="let actividad of actividades" class="actividad">
          <p>{{ actividad.nombre }} - {{ actividad.users.length }}/{{ actividad.capacidad }} personas registradas</p>
          <ul>
            <li *ngFor="let usuario of actividad.users">{{ usuario.username }}</li>
          </ul>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-template #notRegistered>
    <div class="not-registered">
      <p>No estás registrado en este gimnasio. Regístrate para acceder a las rutinas.</p>
    </div>
  </ng-template>
</div>